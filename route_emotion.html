<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>åŸ‹ã¾ã‚‰ãªã„äºˆå®Ÿå·®ã®é—‡ - Chapter 1: Emotion</title>
<style>
    /* â–¼â–¼â–¼ æ„›åŸ·ã®ã‚»ãƒ”ã‚¢ã¨æ¶™ã®ãƒ‡ã‚¶ã‚¤ãƒ³ â–¼â–¼â–¼ */
    :root {
        --bg-color: #1a1005;
        --text-main: #e0d0c0;
        --accent-orange: #d48806;
        --accent-tear: #88ccff;
        --accent-ghost: #ffddaa;
    }

    body {
        background-color: var(--bg-color);
        color: var(--text-main);
        font-family: "Yu Mincho", "Hiragino Mincho ProN", serif;
        line-height: 2.5;
        letter-spacing: 0.05em;
        margin: 0;
        display: flex;
        justify-content: center;
        min-height: 100vh;
        overflow: hidden; /* èƒŒæ™¯ç”»åƒç”¨ */
    }

    /* === ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹é€  === */
    #layer-group {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        z-index: -1; pointer-events: none;
    }
    #bg-layer {
        position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        background-size: cover; background-position: center;
        transition: opacity 1.5s ease, filter 1.5s ease; 
        opacity: 0.6;
        filter: sepia(0.3); /* å…¨ä½“çš„ã«å°‘ã—ã‚»ãƒ”ã‚¢ */
    }
    #cg-layer {
        position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        display: flex; justify-content: center; align-items: center;
    }
    #cg-image {
        max-height: 90%; max-width: 90%;
        opacity: 0; transition: opacity 1s ease;
        filter: drop-shadow(0 0 15px rgba(255, 221, 170, 0.3)); /* å„ªã—ã„å…‰ */
    }

    #game-wrapper {
        width: 100%;
        max-width: 840px;
        height: 95vh;
        background-color: rgba(34, 21, 5, 0.85); /* åŠé€æ˜ */
        box-shadow: 0 0 80px rgba(212, 136, 6, 0.1);
        display: flex;
        flex-direction: column;
        border: 1px solid #443311;
        position: relative;
        overflow-y: auto;
    }

    /* ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ˜ãƒƒãƒ€ãƒ¼ */
    #scene-header {
        height: 200px;
        background-size: cover;
        background-position: center;
        display: flex; align-items: center; justify-content: center;
        position: relative; overflow: hidden;
        border-bottom: 1px solid #332211;
        flex-shrink: 0;
        transition: background-image 0.5s ease;
    }
    #scene-header::before {
        content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
        background: linear-gradient(180deg, rgba(20,15,10,0.6) 0%, rgba(0,0,0,0.85) 100%);
        z-index: 1;
    }
    /* æŠ½è±¡çš„ã‚·ãƒ³ãƒœãƒ«ï¼ˆæ¶™ã®é›«ï¼‰ */
    #scene-symbol {
        width: 30px; height: 45px;
        border: 1px solid rgba(245,166,35,0.25);
        border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
        position: relative;
        opacity: 0.4;
        z-index: 2;
    }
    #scene-symbol::after {
        content: ''; position: absolute;
        top: 40%; left: 50%; transform: translate(-50%, -50%);
        width: 6px; height: 6px;
        background: rgba(245,166,35,0.3);
        border-radius: 50%;
    }
    
    /* æ¶™ã¨å…‰ã®æ¼”å‡º */
    .tear-overlay {
        position: absolute; top:0; left:0; width:100%; height:100%;
        background: radial-gradient(circle, transparent 60%, rgba(136, 204, 255, 0.15) 100%);
        filter: blur(2px); opacity: 0; transition: opacity 3s; pointer-events: none;
    }
    .tear-overlay.active { opacity: 1; }

    /* æœ¬æ–‡ã‚¨ãƒªã‚¢ */
    #narrative-area {
        padding: 40px 50px;
        flex-grow: 1;
        font-size: 1.1rem;
        text-align: justify;
    }
    p { margin-bottom: 2.5em; opacity: 0; animation: fadeIn 1.5s forwards; }
    @keyframes fadeIn { to { opacity: 1; } }

    .highlight { color: var(--accent-orange); font-weight: bold; }
    .name { color: #bb9977; font-weight: bold; font-family: sans-serif; font-size: 0.9em; display: block; margin-bottom: 1em; }
    
    /* äº¡éœŠã®å£° */
    .ghost-voice { 
        color: var(--accent-ghost); font-family: "Yu Mincho", serif; font-style: italic;
        text-shadow: 0 0 10px rgba(255, 200, 100, 0.4);
        border-left: 2px solid var(--accent-orange); padding-left: 20px; margin: 2em 0;
        letter-spacing: 0.1em;
    }

    /* å›æƒ³ã‚·ãƒ¼ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆ */
    .flashback { color: #fff; text-shadow: 0 0 5px rgba(255,255,255,0.5); }

    /* é¸æŠè‚¢ã‚¨ãƒªã‚¢ */
    #choices-container {
        padding: 40px 60px 80px;
        display: flex; flex-direction: column; gap: 20px;
        background: linear-gradient(to top, rgba(13,8,2,0.95) 0%, rgba(34,21,5,0.9) 100%);
        border-top: 1px solid #443311;
    }
    button {
        background: rgba(42,26,10,0.9); color: #ccaa88; border: 1px solid #553311;
        padding: 25px 30px; text-align: left; 
        font-family: "Yu Mincho", serif; font-size: 1.05rem;
        cursor: pointer; transition: all 0.5s; position: relative;
    }
    button:hover { background: #3d2610; color: #fff; border-color: #d48806; padding-left: 40px; box-shadow: 0 0 20px rgba(212, 136, 6, 0.2); }
    button::before { content: "ğŸ’§"; position: absolute; left: 15px; opacity: 0; transition: opacity 0.3s; font-size: 0.8em; }
    button:hover::before { opacity: 1; }

</style>
</head>
<body>

<div id="layer-group">
    <div id="bg-layer"></div>
    <div id="cg-layer"><img id="cg-image" src="" alt=""></div>
</div>

<div id="game-wrapper">
    <div id="scene-header">
        <div id="scene-symbol"></div>
        <div id="tear-fx" class="tear-overlay"></div>
    </div>

    <div id="narrative-area"></div>
    <div id="choices-container"></div>
</div>

<script src="audio.js"></script>
<script>
    /* =========================================
       ã‚·ã‚¹ãƒ†ãƒ åˆ¶å¾¡ (Audio & Image)
       ========================================= */
    // AudioEngine ãƒ©ãƒƒãƒ‘ãƒ¼
    const audio = {
        currentBgm: "",
        
        playBgm: function(filename) {
            if(this.currentBgm === filename) return;
            this.currentBgm = filename;
            
            if(filename === "bgm_ending") AudioEngine.playEndingTheme();
            else if(filename === "bgm_flashback") AudioEngine.playFlashbackTheme();
            else if(filename === "bgm_confession") AudioEngine.playConfessionTheme();
            else if(filename === "bgm_rain") AudioEngine.playAmbience("rain");
            else if(filename === "bgm_mystery") AudioEngine.playMysteryTheme();
            else if(filename === "bgm_horror") AudioEngine.playHorrorTheme();
            else if(filename === "bgm_chase") AudioEngine.playChaseTheme();
            else if(filename === "bgm_office") AudioEngine.playAmbience("office");
            else if(filename === "bgm_abyss") AudioEngine.playAmbience("abyss");
            else if(filename === "bgm_tinnitus") AudioEngine.playAmbience("tinnitus");
            else console.log("Unknown BGM:", filename);
        },
        stopBgm: function() {
            AudioEngine.stopMusic();
            this.currentBgm = "";
        },
        playSe: function(filename) {
            if(filename === "se_ping") AudioEngine.playPing();
            else if(filename === "se_glitch") AudioEngine.playGlitch();
            else if(filename === "se_slam") AudioEngine.playSlam();
            else if(filename === "se_execution") AudioEngine.playExecution();
            else if(filename === "se_impact") AudioEngine.playImpact();
            else if(filename === "se_heartbeat" || filename === "se_heart") AudioEngine.playHeartbeat();
            else if(filename === "se_shredder") AudioEngine.playShredder();
            else if(filename === "se_stamp") AudioEngine.playStamp();
            else console.log("Unknown SE:", filename);
        }
    };

    const visuals = {
        bg: document.getElementById("bg-layer"),
        cg: document.getElementById("cg-image"),
        
        setBg: function(filename) {
            if(!filename) return;
            this.bg.style.backgroundImage = `url('images/${filename}.jpg')`;
        },
        setCg: function(filename) {
            if(!filename) {
                this.cg.style.opacity = 0;
            } else {
                this.cg.src = `images/${filename}.png`;
                this.cg.style.opacity = 1;
            }
        },
        setFilter: function(type) {
            // èƒŒæ™¯ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ“ä½œ
            if (type === "blue") {
                this.bg.style.filter = "hue-rotate(180deg) sepia(0.2) brightness(0.8)";
            } else if (type === "gold") {
                this.bg.style.filter = "sepia(0.6) brightness(1.1)";
            } else {
                this.bg.style.filter = "sepia(0.3)";
            }
        }
    };

    // â–¼â–¼â–¼ ã‚·ãƒŠãƒªã‚ªãƒ‡ãƒ¼ã‚¿ï¼ˆæ„›åŸ·ç·¨ï¼šç”»åƒãƒ»éŸ³å£°çµ±åˆç‰ˆï¼‰ â–¼â–¼â–¼
    const scenes = {
        // --- å°å…¥ ---
        start: {
            icon: "ğŸ¥€",
            bg: "bg_office_night",    // â˜…èƒŒæ™¯ï¼šã‚ªãƒ•ã‚£ã‚¹
            music: "bgm_rain",        // â˜…BGMï¼šé›¨ï¼ˆæ¶™ï¼‰
            text: `
                <span class="name">æ·±å¤œ2:20 è²¡å‹™çµŒç†éƒ¨ãƒ•ãƒ­ã‚¢</span>
                <p>
                ã€Œç¾å’²â€¦â€¦ãƒƒï¼ã€
                </p>
                <p>
                ç”»é¢ã«è¡¨ç¤ºã•ã‚ŒãŸã€Unknown Userã€ã®æ–‡å­—ã‚’è¦‹ãŸç¬é–“ã€å¼µã‚Šè©°ã‚ã¦ã„ãŸç³¸ãŒåˆ‡ã‚ŒãŸã€‚<br>
                ææ€–ã§ã¯ãªã„ã€‚æº¢ã‚Œå‡ºãŸã®ã¯ã€å °ã‚’åˆ‡ã£ãŸã‚ˆã†ãªå¾Œæ‚”ã¨æ„›ã—ã•ã ã£ãŸã€‚
                </p>
                <p>
                ç§ã¯éœ‡ãˆã‚‹æ‰‹ã§ãƒã‚¦ã‚¹ã‚’æ¡ã‚Šã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é–‹ã„ãŸã€‚
                </p>
                <p class="ghost-voice">
                ã€ã­ãˆã€äºœä¹…æ–—ãã‚“ã€‚<br>
                å®Ÿç¸¾ãŒåˆã‚ãªã„ã‚ˆã€‚<br>
                ç§ãŒç”ŸããŸã‹ã£ãŸæœªæ¥ã¨ã€æ­»ã‚“ã§ã—ã¾ã£ãŸç¾å®Ÿã®å·®ãŒåŸ‹ã¾ã‚‰ãªã„ã®ã€
                </p>
                <p>
                ãã®æ–‡é¢ã¯ã€ç”Ÿå‰ã®å½¼å¥³ãã®ã‚‚ã®ã ã£ãŸã€‚<br>
                çœŸé¢ç›®ã§ã€å°‘ã—ä¸å™¨ç”¨ã§ã€ã„ã¤ã‚‚æ•°å­—ï¼ˆä»•äº‹ï¼‰ã‚’é€šã—ã¦ç§ã«èªã‚Šã‹ã‘ã¦ããŸå½¼å¥³ã€‚<br>
                è¦–ç•ŒãŒæ¶™ã§æ»²ã‚€ã€‚<br>
                ã€Œã”ã‚ã‚“â€¦â€¦ã”ã‚ã‚“ç¾å’²ã€‚ã‚ã®æ™‚ã€é›»è©±ã«å‡ºã¦ã‚„ã‚Œãªãã¦â€¦â€¦ã€
                </p>
            `,
            choices: [
                { text: "æ¶™ã‚’æ‹­ã„ã€å½¼å¥³ã®ãƒ‡ã‚¹ã‚¯ã¸å‘ã‹ã†", next: "desk_memory" }
            ]
        },

        // --- ãƒ‡ã‚¹ã‚¯ï¼šé¦™ã‚Šã®è¨˜æ†¶ ---
        desk_memory: {
            icon: "ğŸ§´",
            bg: "bg_misaki_desk",     // â˜…èƒŒæ™¯ï¼šç¾å’²ã®ãƒ‡ã‚¹ã‚¯
            cg: "cg_hand_cream",      // â˜…CGï¼šãƒãƒ³ãƒ‰ã‚¯ãƒªãƒ¼ãƒ 
            effect: { tears: true },
            text: `
                <p>
                ç§ã¯å¼•ãå¯„ã›ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã€ç¾å’²ã®ãƒ‡ã‚¹ã‚¯ã®å‰ã«ç«‹ã£ãŸã€‚<br>
                åŸƒã‚’è¢«ã£ãŸãƒ¢ãƒ‹ã‚¿ãƒ¼ã€‚æ¯ã‚ŒãŸè¦³è‘‰æ¤ç‰©ã€‚<br>
                æ™‚ãŒæ­¢ã¾ã£ãŸãã®å ´æ‰€ã§ã€ç§ã¯å¼•ãå‡ºã—ã‚’é–‹ã‘ãŸã€‚
                </p>
                <p>
                ãã“ã«ã¯ã€ä½¿ã„ã‹ã‘ã®ãƒãƒ³ãƒ‰ã‚¯ãƒªãƒ¼ãƒ ãŒè»¢ãŒã£ã¦ã„ãŸã€‚<br>
                ç§ãŒã‚ã’ãŸã‚‚ã®ã ã€‚<br>
                è“‹ã‚’é–‹ã‘ã‚‹ã¨ã€å¾®ã‹ã«<span class="highlight">ãƒ©ãƒ™ãƒ³ãƒ€ãƒ¼ã®é¦™ã‚Š</span>ãŒæ¼‚ã£ãŸã€‚
                </p>
                <p>
                ãã®ç¬é–“ã€é¦™ã‚Šã¨ã¨ã‚‚ã«ã€è‰²è¤ªã›ãªã„è¨˜æ†¶ãŒé®®ã‚„ã‹ã«è˜‡ã‚‹ã€‚<br>
                ã‚ã‚Œã¯ã€ã¾ã ä½•ã‚‚ã‹ã‚‚ãŒä¸Šæ‰‹ãã„ã£ã¦ã„ãŸé ƒã®â€•â€•ã€‚
                </p>
            `,
            choices: [
                { text: "ã€å›æƒ³ã€‘æ°´æ—é¤¨ãƒ‡ãƒ¼ãƒˆã®é™ã‹ãªæ™‚é–“", next: "flashback_aquarium_1" },
                { text: "ã€å›æƒ³ã€‘èª•ç”Ÿæ—¥ã®ç¬‘é¡”ã¨èª“ã„", next: "flashback_birthday_1" }
            ]
        },

        // ============================================================
        // å›æƒ³Aï¼šæ°´æ—é¤¨ï¼ˆ3ã‚¹ãƒ†ãƒƒãƒ—ï¼‰
        // ============================================================
        flashback_aquarium_1: {
            icon: "ğŸ¬",
            bg: "bg_aquarium",        // â˜…èƒŒæ™¯ï¼šæ°´æ—é¤¨
            cg: "",                   // CGæ¶ˆã™
            music: "bgm_flashback",   // â˜…BGMï¼šå›æƒ³
            effect: { blue: true },   // â˜…é’ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
            text: `
                <p class="flashback">
                ï¼ˆ2å¹´å‰ã®å¤â€•â€•ï¼‰
                </p>
                <p class="flashback">
                æ·±ã„é’è‰²ã®å…‰ã«åŒ…ã¾ã‚ŒãŸã€å·¨å¤§æ°´æ§½ã®å‰ã€‚<br>
                ç§ãŸã¡ã¯äººæ··ã¿ã‚’é¿ã‘ã¦ã€é™ã‹ãªã‚³ãƒ¼ãƒŠãƒ¼ã®ãƒ™ãƒ³ãƒã«åº§ã£ã¦ã„ãŸã€‚<br>
                ç›®ã®å‰ã‚’ã€ç„¡æ•°ã®ã‚¯ãƒ©ã‚²ãŒã‚†ã‚‰ã‚†ã‚‰ã¨æ¼‚ã£ã¦ã„ãã€‚
                </p>
                <p class="flashback">
                ã€Œç¶ºéº—ã ã­â€¦â€¦ã€<br>
                ç¾å’²ãŒãƒãƒ„ãƒªã¨å‘Ÿã„ãŸã€‚<br>
                ãã®æ¨ªé¡”ã¯ã€æ°´æ§½ã®å…‰ã‚’å—ã‘ã¦é€ãé€šã‚‹ã‚ˆã†ã«ç™½ãã€å„šã’ã ã£ãŸã€‚
                </p>
                <p class="flashback">
                ä»•äº‹ã«è¿½ã‚ã‚Œã€ç–²å¼Šã—ã¦ã„ãŸæ™‚æœŸã ã£ãŸã€‚<br>
                ã“ã“ã«ã¯ã€ã‚ªãƒ•ã‚£ã‚¹ã®å–§é¨’ã‚‚ã€ä¸Šå¸ã®æ€’å·ã‚‚ãªã„ã€‚<br>
                ãŸã ã€å„ªã—ã„æ™‚é–“ã ã‘ãŒæµã‚Œã¦ã„ãŸã€‚
                </p>
            `,
            choices: [
                { text: "å½¼å¥³ãŒå£ã‚’é–‹ã", next: "flashback_aquarium_2" }
            ]
        },
        flashback_aquarium_2: {
            icon: "ğŸ’¬",
            bg: "bg_aquarium",
            effect: { blue: true },
            text: `
                <p class="flashback">
                ã€ã­ãˆã€äºœä¹…æ–—ãã‚“ã€
                </p>
                <p class="flashback">
                å½¼å¥³ãŒç§ã®è‚©ã«é ­ã‚’é ã‘ã¦ããŸã€‚<br>
                ã‚·ãƒ£ãƒ³ãƒ—ãƒ¼ã®é¦™ã‚Šã¨ã€å½¼å¥³ã®ä½“æ¸©ãŒä¼ã‚ã£ã¦ãã‚‹ã€‚
                </p>
                <p class="flashback">
                ã€ç§ã­ã€ã“ã†ã—ã¦ã„ã‚‹æ™‚ãŒä¸€ç•ªå¹¸ã›ã€‚<br>
                äºœä¹…æ–—ãã‚“ã®éš£ã«ã„ã‚‹ã¨ã€æ•°å­—ã®ã“ã¨ã‚‚ã€æ˜æ—¥ã®ä¼šè­°ã®ã“ã¨ã‚‚ã€å…¨éƒ¨å¿˜ã‚Œã‚‰ã‚Œã‚‹ã®ã€‚<br>
                â€¦â€¦ãšã£ã¨ã€ã“ã®ã¾ã¾ãŒã„ã„ãªã€
                </p>
                <p class="flashback">
                ãã‚Œã¯çã—ãå½¼å¥³ãŒåã„ãŸã€å¼±éŸ³ã§ã‚ã‚Šã€æœ¬éŸ³ã ã£ãŸã€‚<br>
                ç§ã¯å½¼å¥³ã®éœ‡ãˆã‚‹æ‰‹ã‚’ã€ãã£ã¨æ¡ã‚Šã—ã‚ãŸã€‚
                </p>
            `,
            choices: [
                { text: "å½¼å¥³ã®æ‰‹ã‚’æ¡ã‚Šè¿”ã™", next: "flashback_aquarium_3" }
            ]
        },
        flashback_aquarium_3: {
            icon: "ğŸ¤™",
            bg: "bg_aquarium",
            effect: { blue: true },
            text: `
                <p class="flashback">
                ã€ç§ã®æ‰‹ã€å†·ãŸã„ã§ã—ã‚‡ï¼Ÿã€<br>
                ã€ã†ã†ã‚“ã€‚äºœä¹…æ–—ãã‚“ã®æ‰‹ãŒæ¸©ã‹ã„ã‹ã‚‰ã€ã¡ã‚‡ã†ã©ã„ã„ã€
                </p>
                <p class="flashback">
                å½¼å¥³ã¯ç§ã®æŒ‡ã«ã€è‡ªåˆ†ã®æŒ‡ã‚’çµ¡ã¾ã›ãŸã€‚<br>
                ã€ç´„æŸã—ã¦ã€‚ã¾ãŸæ¥ã‚ˆã†ã­ã€‚è¾›ããªã£ãŸã‚‰ã€ã“ã“ã«æ¥ã¦æ·±å‘¼å¸ã—ã‚ˆã†ã€
                </p>
                <p class="flashback">
                ã€ã‚ã‚ã€ç´„æŸã™ã‚‹ã‚ˆã€
                </p>
                <p>
                æŒ‡åˆ‡ã‚Šã®æ¸©ã‚‚ã‚Šã€‚<br>
                å®ˆã‚ŠãŸã‹ã£ãŸã€‚ã‚ã®é™ã‹ãªæ™‚é–“ã‚’ã€ã‚ã®å°ã•ãªæ‰‹ã‚’ã€å‘½ã«ä»£ãˆã¦ã‚‚å®ˆã‚‹ã¹ãã ã£ãŸã€‚<br>
                ãã‚Œãªã®ã«ã€ç§ã¯â€•â€•ã€‚
                </p>
            `,
            choices: [
                { text: "ç¾å®Ÿã«å¼•ãæˆ»ã•ã‚Œã‚‹", next: "ghost_request" }
            ]
        },

        // ============================================================
        // å›æƒ³Bï¼šèª•ç”Ÿæ—¥ï¼ˆ3ã‚¹ãƒ†ãƒƒãƒ—ï¼‰
        // ============================================================
        flashback_birthday_1: {
            icon: "ğŸ‚",
            bg: "bg_birthday_restaurant", // â˜…èƒŒæ™¯ï¼šãƒ¬ã‚¹ãƒˆãƒ©ãƒ³
            cg: "",
            music: "bgm_flashback",
            effect: { gold: true },       // â˜…é‡‘ï¼ˆã‚»ãƒ”ã‚¢ï¼‰ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
            text: `
                <p class="flashback">
                ï¼ˆå»å¹´ã®å†¬ã€å½¼å¥³ã®èª•ç”Ÿæ—¥â€•â€•ï¼‰
                </p>
                <p class="flashback">
                äºˆç´„ã—ã¦ã„ãŸãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã®å€‹å®¤ã€‚<br>
                ã‚¦ã‚§ã‚¤ã‚¿ãƒ¼ãŒé‹ã‚“ã§ããŸã‚±ãƒ¼ã‚­ã‚’è¦‹ã¦ã€å½¼å¥³ã¯ç›®ã‚’ä¸¸ãã—ãŸã€‚
                </p>
                <p class="flashback">
                ã€ãˆã£ã€ã“ã‚“ãªç«‹æ´¾ãªãƒ—ãƒ¬ãƒ¼ãƒˆâ€¦â€¦ï¼ å˜˜ã€ç§ã®åå‰å…¥ã£ã¦ã‚‹ï¼ã€
                </p>
                <p class="flashback">
                å­ä¾›ã®ã‚ˆã†ã«ã¯ã—ã‚ƒãå½¼å¥³ã€‚<br>
                æ™®æ®µã€ä¼šç¤¾ã§ã¯æ°—ä¸ˆã«æŒ¯ã‚‹èˆã£ã¦ã„ã‚‹å½¼å¥³ãŒã€ç§ã®å‰ã ã‘ã§è¦‹ã›ã‚‹ç„¡é˜²å‚™ãªç¬‘é¡”ã€‚<br>
                ãã‚Œã‚’è¦‹ã¦ã„ã‚‹ã ã‘ã§ã€ç§ã¯èƒ¸ãŒã„ã£ã±ã„ã ã£ãŸã€‚
                </p>
            `,
            choices: [
                { text: "ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã‚’æ¸¡ã™", next: "flashback_birthday_2" }
            ]
        },
        flashback_birthday_2: {
            icon: "ğŸ",
            bg: "bg_birthday_restaurant",
            effect: { gold: true },
            text: `
                <p class="flashback">
                ã€ã¯ã„ã€ã“ã‚Œã€<br>
                ç§ãŒå°ã•ãªç®±ã‚’å·®ã—å‡ºã™ã¨ã€å½¼å¥³ã¯éœ‡ãˆã‚‹æ‰‹ã§ãƒªãƒœãƒ³ã‚’è§£ã„ãŸã€‚
                </p>
                <p class="flashback">
                ä¸­ã‹ã‚‰å‡ºã¦ããŸã®ã¯ã€ã‚·ãƒ³ãƒ—ãƒ«ãªã‚·ãƒ«ãƒãƒ¼ã®ãƒãƒƒã‚¯ãƒ¬ã‚¹ã€‚<br>
                æ±ºã—ã¦é«˜ä¾¡ãªã‚‚ã®ã§ã¯ãªã„ã‘ã‚Œã©ã€å½¼å¥³ã¯ã¾ã‚‹ã§å®çŸ³ã§ã‚‚è¦‹ã‚‹ã‹ã®ã‚ˆã†ã«ç›®ã‚’è¼ã‹ã›ãŸã€‚
                </p>
                <p class="flashback">
                ã€ã‚ã‚ŠãŒã¨ã†â€¦â€¦ï¼ ã™ã”ãç´ æ•µã€‚<br>
                ã­ãˆã€ç€ã‘ã¦ï¼Ÿã€
                </p>
                <p class="flashback">
                å½¼å¥³ãŒèƒŒã‚’å‘ã‘ã¦é«ªã‚’æŒã¡ä¸Šã’ã‚‹ã€‚<br>
                ç™½ã„ã†ãªã˜ã«ãƒãƒƒã‚¯ãƒ¬ã‚¹ã‚’ã‹ã‘ã€ç•™ã‚å…·ã‚’æ­¢ã‚ã‚‹ã€‚<br>
                é¡ã‚’è¦‹ãŸå½¼å¥³ã¯ã€ç…§ã‚Œãã•ãã†ã«ã€ã§ã‚‚èª‡ã‚‰ã—ã’ã«å¾®ç¬‘ã‚“ã ã€‚
                </p>
            `,
            choices: [
                { text: "å½¼å¥³ãŒæŒ¯ã‚Šè¿”ã‚‹", next: "flashback_birthday_3" }
            ]
        },
        flashback_birthday_3: {
            icon: "âœ¨",
            bg: "bg_birthday_restaurant",
            effect: { gold: true },
            text: `
                <p class="flashback">
                ã€ä¸€ç”Ÿã®å®ç‰©ã«ã™ã‚‹ã­ã€‚<br>
                â€¦â€¦ã­ãˆã€äºœä¹…æ–—ãã‚“ã€‚ãŠå©†ã¡ã‚ƒã‚“ã«ãªã£ã¦ã‚‚ã€ã“ã†ã—ã¦ç¥ã£ã¦ãã‚Œã‚‹ï¼Ÿã€
                </p>
                <p class="flashback">
                å½¼å¥³ã®ç³ã«ã¯ã€ç–‘ã„ã‚ˆã†ã®ãªã„ã€ŒäºŒäººã®æœªæ¥ã€ãŒæ˜ ã£ã¦ã„ãŸã€‚<br>
                ã€å½“ãŸã‚Šå‰ã ã‚ã€<br>
                ç§ã¯å³ç­”ã—ãŸã€‚ä½•ã®ç–‘ã„ã‚‚ãªãã€‚
                </p>
                <p>
                å˜˜ã¤ãã ã€‚ç§ã¯ä½•ã²ã¨ã¤ç´„æŸã‚’å®ˆã‚Œãªã‹ã£ãŸã€‚<br>
                ãã®ãƒãƒƒã‚¯ãƒ¬ã‚¹ã‚’ç€ã‘ãŸã¾ã¾ã€å½¼å¥³ã¯å†·ãŸã„ã‚¢ã‚¹ãƒ•ã‚¡ãƒ«ãƒˆã®ä¸Šã«â€•â€•ã€‚
                </p>
                <p>
                ã€Œã”ã‚ã‚“â€¦â€¦æœ¬å½“ã«ã”ã‚ã‚“â€¦â€¦ãƒƒï¼ã€
                </p>
            `,
            choices: [
                { text: "ç¾å®Ÿã«å¼•ãæˆ»ã•ã‚Œã‚‹", next: "ghost_request" }
            ]
        },

        // --- éœŠã¨ã®å¯¾è©±ï¼ˆç¾å®Ÿã¸ï¼‰ ---
        ghost_request: {
            icon: "ğŸ‘»",
            bg: "bg_misaki_desk",
            cg: "cg_misaki_ghost_hollow", // â˜…CGï¼šè™šã‚ãªç¾å’²ï¼ˆå“€ã—ã¿ï¼‰
            music: "bgm_rain",
            text: `
                <p>
                ã€Œä¼šã„ãŸã„â€¦â€¦ã‚‚ã†ä¸€åº¦ã€ä¼šã„ãŸã„ã‚ˆã€
                </p>
                <p>
                ç§ãŒæ³£ãå´©ã‚Œã‚‹ã¨ã€ãµã‚ã‚Šã¨å†·ãŸã„é¢¨ãŒé ¬ã‚’æ’«ã§ãŸã€‚<br>
                é¡”ã‚’ä¸Šã’ã‚‹ã¨ã€éš£ã®å¸­ã«åŠé€æ˜ã®å½±ãŒåº§ã£ã¦ã„ãŸã€‚<br>
                å½¼å¥³ã¯æ‚²ã—ã’ã«ã€ã‘ã‚Œã©æ…ˆæ„›ã«æº€ã¡ãŸç›®ã§ç§ã‚’è¦‹ã¤ã‚ã¦ã„ã‚‹ã€‚
                </p>
                <p class="ghost-voice">
                ã€â€¦â€¦æ³£ã‚«ãƒŠã‚¤ãƒ‡ã€‚äºœä¹…æ–—ã‚¯ãƒ³ã€‚ã€<br>
                ã€ç§ãƒã€æ‚”ã‚·ã‚¤ã®ã€‚äºœä¹…æ–—ã‚¯ãƒ³ã¨ä¸€ç·’ãƒ‹ã€å¹¸ã‚»ãƒ‹ãƒŠãƒªã‚¿ã‚«ãƒƒã‚¿ã€‚<br>
                ãƒ‡ãƒ¢ã€ã‚¢ã‚¤ãƒ„ãƒ©ã‚¬ç§ãƒ²å£Šã‚·ã‚¿ã€‚ã€
                </p>
                <p>
                ã€Œã‚¢ã‚¤ãƒ„ãƒ©â€¦â€¦æ¨©ç”°ã¨çŠ¬é£¼ã‹ã€
                </p>
                <p class="ghost-voice">
                ã€ã‚¦ãƒ³ã€‚è¨±ã‚»ãƒŠã‚¤ã€‚<br>
                ãƒã‚¨ã€æ˜æ—¥ã€å®Ÿå®¶ãƒ‹æ¥ãƒ†ã€‚<br>
                ç§ãƒã‚¹ãƒãƒ›ãƒ²å–ãƒƒãƒ†ã‚­ãƒ†ã€‚ã‚½ãƒ¬ã‚¬ã‚¢ãƒ¬ãƒã€å…¨éƒ¨çµ‚ãƒ¯ãƒ©ã‚»ãƒ©ãƒ¬ãƒ«ã‚«ãƒ©ã€‚ã€
                </p>
            `,
            choices: [
                { text: "ã€Œåˆ†ã‹ã£ãŸã€‚å›ã®ãŸã‚ãªã‚‰ä½•ã§ã‚‚ã™ã‚‹ã€", next: "home_sorrow" }
            ]
        },

        // --- å®Ÿå®¶è¨ªå•ï¼šå…±æœ‰ã™ã‚‹æ‚²ã—ã¿ ---
        home_sorrow: {
            icon: "ğŸ ",
            bg: "bg_home_altar", // â˜…èƒŒæ™¯ï¼šå®Ÿå®¶ã®ä»é–“
            cg: "",
            music: "bgm_rain",
            text: `
                <span class="name">ç¿Œæ—¥ æ—¥æ›œæ—¥ ç¾å’²ã®å®Ÿå®¶</span>
                <p>
                ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ›ãƒ³ã‚’æŠ¼ã™ã¨ã€ç¾å’²ã®æ¯è¦ªãŒå‡ºã¦ããŸã€‚<br>
                å½¼å¥³ã¯ç§ã‚’è¦‹ã‚‹ãªã‚Šã€æ†æ‚ªã§ã¯ãªãã€æ·±ã„æ‚²ã—ã¿ã®è‰²ã‚’ç›®ã«æµ®ã‹ã¹ãŸã€‚<br>
                ã€Œâ€¦â€¦ã‚ˆãæ¥ã¦ãã‚ŒãŸã‚ã­ã€
                </p>
                <p>
                é€šã•ã‚ŒãŸä»é–“ã€‚éºå½±ã®å‰ã§ã€ç§ã¯åœŸä¸‹åº§ã‚’ã—ãŸã€‚<br>
                ã€Œç”³ã—è¨³ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚åƒ•ãŒâ€¦â€¦åƒ•ãŒã‚‚ã£ã¨æ—©ãæ°—ã¥ã„ã¦ã„ã‚Œã°ã€<br>
                ç•³ã«é¡ã‚’æ“¦ã‚Šä»˜ã‘ã€è¬ç½ªã‚’ç¹°ã‚Šè¿”ã™ã€‚
                </p>
                <p>
                æ¯è¦ªã¯é™ã‹ã«ã€ç§ã®å‰ã«åº§ã£ãŸã€‚<br>
                ã€Œã‚ã®å­ã®æ—¥è¨˜ã‚’è¦‹ãŸã‚ã€‚æœ€æœŸã¾ã§ã‚ã‚“ãŸã®ã“ã¨ã ã‘ã¯å¿ƒé…ã—ã¦ãŸã€‚<br>
                ã€äºœä¹…æ–—ãã‚“ã‚’å·»ãè¾¼ã¿ãŸããªã„ã€å½¼ã«ã¯ç¬‘ã£ã¦ã„ã¦ã»ã—ã„ã€ã£ã¦ã€
                </p>
            `,
            choices: [
                { text: "ã€Œåƒ•ã‚‚ã§ã™ã€‚å½¼å¥³ã‚’æ„›ã—ã¦ã„ã¾ã—ãŸã€ã¨å…±ã«æ³£ã", next: "receive_smartphone" },
                { text: "ã€Œå½¼å¥³ã®ç„¡å¿µã¯ã€åƒ•ãŒæ™´ã‚‰ã—ã¾ã™ã€ã¨èª“ã†", next: "receive_smartphone" }
            ]
        },

        receive_smartphone: {
            icon: "ğŸ“±",
            bg: "bg_home_altar",
            cg: "cg_smartphone", // â˜…CGï¼šã‚¹ãƒãƒ›ï¼ˆç™½ãƒ»å‰²ã‚Œã¦ã„ã‚‹ï¼‰
            text: `
                <p>
                æ¯è¦ªã¯ã€ç¾å’²ã®ã‚¹ãƒãƒ›ã‚’ç§ã«è¨—ã—ãŸã€‚<br>
                ã€Œã‚ã®å­ã®é­‚ã‚’ã€ã‚ã‚“ãŸã«é ã‘ã‚‹ã‚ã€
                </p>
                <p>
                ã‚¹ãƒãƒ›ã‚’å—ã‘å–ã‚‹ã€‚ç”»é¢ã«ã¯ã€æœªé€ä¿¡ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒæ®‹ã£ã¦ã„ãŸã€‚<br>
                ã€å¤§å¥½ãã ã‚ˆã€‚ã•ã‚ˆã†ãªã‚‰ã€
                </p>
                <p>
                ãã®è¨€è‘‰ãŒã€ç§ã®å¿ƒã«æ¸©ã‹ã„å…‰ã‚’ç¯ã—ãŸã€‚<br>
                å¾©è®ã§ã¯ãªã„ã€‚ã“ã‚Œã¯ã€Œä¾›é¤Šã€ãªã®ã ã€‚<br>
                å½¼å¥³ã‚’ç¸›ã‚Šä»˜ã‘ã‚‹æœªç·´ã‚’æ–­ã¡åˆ‡ã‚Šã€ç©ºã¸é‚„ã™ãŸã‚ã®ã€‚
                </p>
            `,
            choices: [
                { text: "æœˆæ›œæ—¥ã€æœ€å¾Œã®å„€å¼ã¸", next: "monday_end" }
            ]
        },

        // --- æœˆæ›œæ—¥ï¼šé™ã‹ãªã‚‹å¹•å¼•ã ---
        monday_end: {
            icon: "âš°ï¸",
            bg: "bg_office_night",
            cg: "",
            music: "bgm_mystery", // â˜…BGMï¼šãƒŸã‚¹ãƒ†ãƒªãƒ¼ï¼ˆé™ã‹ãªæ±ºç€ï¼‰
            text: `
                <span class="name">æœˆæ›œæ—¥ çµŒç†éƒ¨ãƒ•ãƒ­ã‚¢</span>
                <p>
                ç§ãŒæ‰‹ã‚’ä¸‹ã™å¿…è¦ã¯ãªã‹ã£ãŸã€‚<br>
                ç¾å’²ã®æƒ³ã„ï¼ˆã‚¹ãƒãƒ›ï¼‰ã‚’ä¼šç¤¾ã«æŒã¡è¾¼ã‚“ã ã ã‘ã§ã€å› æœã®æ­¯è»Šã¯å›ã‚Šå§‹ã‚ãŸã€‚
                </p>
                <p>
                <span class="highlight">çŠ¬é£¼å…ˆè¼©</span>ã¯ã€å‡ºç¤¾ã™ã‚‹ãªã‚Šä½•ã‚‚ãªã„ç©ºä¸­ã«å‘ã‹ã£ã¦è¬ç½ªã‚’å§‹ã‚ãŸã€‚<br>
                ã€Œã”ã‚ã‚“ãªã•ã„ï¼ ã‚‚ã†ã—ã¾ã›ã‚“ï¼ è¨±ã—ã¦ï¼ã€<br>
                å½¼ã¯è¦‹ãˆãªã„ä½•ã‹ã«æ€¯ãˆã¦å¾Œãšã•ã‚Šã—ã€ãã®ã¾ã¾éšæ®µã‹ã‚‰è¶³ã‚’è¸ã¿å¤–ã—ãŸã€‚<br>
                ä¸€ç¬ã®å‡ºæ¥äº‹ã ã£ãŸã€‚
                </p>
                <p>
                <span class="highlight">æ¨©ç”°éƒ¨é•·</span>ã¯ã€ä¼šè­°ä¸­ã«èƒ¸ã‚’æŠ¼ã•ãˆã¦å€’ã‚ŒãŸã€‚<br>
                è‹¦æ‚¶ã®è¡¨æƒ…ã‚’æµ®ã‹ã¹ã‚‹å½¼ã‚’è¦‹ã¦ã€ç§ã¯æ†ã—ã¿ã‚ˆã‚Šã‚‚æ†ã‚Œã¿ã‚’æ„Ÿã˜ãŸã€‚<br>
                åœ°ä½ã‚‚åèª‰ã‚‚ã€æ­»ã®å‰ã§ã¯ç„¡æ„å‘³ã ã€‚
                </p>
            `,
            choices: [
                { text: "ã€Œæ¥½ã«ãŠãªã‚Šãã ã•ã„ã€ã¨å¿ƒã®ä¸­ã§ç¥ˆã‚‹", next: "epilogue_mercy" },
                { text: "ãŸã é™ã‹ã«ã€ãã®æœ€æœŸã‚’è¦‹å±Šã‘ã‚‹", next: "epilogue_silence" }
            ]
        },

        // --- ã‚¨ãƒ”ãƒ­ãƒ¼ã‚°ï¼šæ…ˆæ‚²ã¨æ„› ---
        epilogue_mercy: {
            icon: "ğŸ™",
            bg: "bg_office_night",
            sound: "se_execution", // â˜…SEï¼šé­‚ãŒæŠœã‘ã‚‹éŸ³
            music: "bgm_ending",   // â˜…BGMï¼šã‚¨ãƒ³ãƒ‡ã‚£ãƒ³ã‚°
            text: `
                <p>
                é¨’ç„¶ã¨ã™ã‚‹ã‚ªãƒ•ã‚£ã‚¹ã®ä¸­ã§ã€ç§ã¯ç›®ã‚’é–‰ã˜ãŸã€‚<br>
                å½¼ã‚‰ã®æ­»ã«ã‚ˆã£ã¦ã€ç¾å’²ã®é­‚ãŒå°‘ã—ã§ã‚‚å®‰ã‚‰ãã“ã¨ã‚’ç¥ˆã£ãŸã€‚
                </p>
                <p>
                ã€Œâ€¦â€¦çµ‚ã‚ã£ãŸã‚ˆã€ç¾å’²ã€
                </p>
                <p>
                ãµã¨ã€ãƒ©ãƒ™ãƒ³ãƒ€ãƒ¼ã®é¦™ã‚ŠãŒé¼»ã‚’ãã™ãã£ãŸæ°—ãŒã—ãŸã€‚<br>
                å½¼å¥³ã®æ°—é…ãŒã€ãµã‚ã‚Šã¨å¤©äº•ã¸æ˜‡ã£ã¦ã„ãã€‚<br>
                ã‘ã‚Œã©ã€å…¨ã¦ãŒæ¶ˆãˆãŸã‚ã‘ã§ã¯ãªã„ã€‚
                </p>
                <p>
                ç§ã®ä¸­ã«ã¯ã€å½¼å¥³ã¸ã®æ„›ã¨ã€æœãŸã›ãªã‹ã£ãŸç´„æŸãŒæ®‹ã£ã¦ã„ã‚‹ã€‚<br>
                ãã‚Œã‚’èƒŒè² ã£ã¦ç”Ÿãã¦ã„ãã“ã¨ã“ããŒã€ç§ã®è´–ç½ªã§ã‚ã‚Šã€å½¼å¥³ã¸ã®æ„›ã®è¨¼ãªã®ã ã€‚
                </p>
                <p>
                5æœˆã€‚æ–°ã—ã„å­£ç¯€ãŒå§‹ã¾ã‚‹ã€‚<br>
                ç§ã®å¿ƒã«ã¯ã€å†·ãŸãã‚‚å„ªã—ã„ã€Œå½¼å¥³ã€ãŒä½ã¿ç¶šã‘ã¦ã„ã‚‹ã€‚
                </p>
            `,
            choices: [
                { text: "å½¼å¥³ã®å½±ã‚’èƒ¸ã«æŠ±ãã€ç”Ÿãã¦ã„ã", next: "to_climax" }
            ]
        },

        // ï¼ˆâ€»å†…éƒ¨å‡¦ç†ç”¨ï¼šç„¡è¨€ã§è¦‹å±Šã‘ã‚‹ãƒ«ãƒ¼ãƒˆã‚‚åŒã˜çµæœ«ã¸ï¼‰
        epilogue_silence: {
            icon: "ğŸŒ‘",
            bg: "bg_office_night",
            music: "bgm_ending",
            text: `
                <p>
                é¨’ç„¶ã¨ã™ã‚‹ã‚ªãƒ•ã‚£ã‚¹ã®ä¸­ã§ã€ç§ã¯ãŸã é™ã‹ã«ç«‹ã¡å°½ãã—ã¦ã„ãŸã€‚<br>
                å› æœå¿œå ±ã€‚<br>
                å½¼ã‚‰ã¯è‡ªã‚‰ã®ç½ªã®é‡ã•ã«è€ãˆãã‚Œãšã€è‡ªæ»…ã—ãŸã®ã ã€‚
                </p>
                <p>
                ã€Œâ€¦â€¦ã•ã‚ˆã†ãªã‚‰ã€
                </p>
                <p>
                ç§ã¯å½¼ã‚‰ã«ã€ãã—ã¦ç¾å’²ã®æ€¨å¿µã«åˆ¥ã‚Œã‚’å‘Šã’ãŸã€‚<br>
                ã“ã‚Œã§å½¼å¥³ã‚‚ã€è‹¦ã—ã¿ã‹ã‚‰è§£æ”¾ã•ã‚ŒãŸã¯ãšã ã€‚
                </p>
                <p>
                ã—ã‹ã—ã€ç§ã®ä¸­ã®æ™‚é–“ã¯æ­¢ã¾ã£ãŸã¾ã¾ã ã€‚<br>
                å½¼å¥³ã®ã„ãªã„ä¸–ç•Œã§ã€ç§ã¯å½¼å¥³ã®å½±ã‚’æŠ±ã„ã¦ç”Ÿãã¦ã„ãã€‚<br>
                ãã‚ŒãŒã€ç”Ÿãæ®‹ã£ãŸç§ã®å½¹å‰²ã ã‹ã‚‰ã€‚
                </p>
            `,
            choices: [
                { text: "å½¼å¥³ã®å½±ã‚’èƒ¸ã«æŠ±ãã€ç”Ÿãã¦ã„ã", next: "to_climax" }
            ]
        }
    };

    // â–¼â–¼â–¼ ã‚¨ãƒ³ã‚¸ãƒ³éƒ¨ â–¼â–¼â–¼
    const dom = {
        text: document.getElementById("narrative-area"),
        choices: document.getElementById("choices-container"),
        tears: document.getElementById("tear-fx"),
        header: document.getElementById("scene-header")
    };

    // ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ç®¡ç†
    const savedData = JSON.parse(localStorage.getItem("yojitsu_save")) || { route: "emotion", sanity: 100, karma: 0 };

    function render(sceneId) {
        window.scrollTo(0, 0);
        document.getElementById("game-wrapper").scrollTop = 0;

        if(sceneId === "to_climax") {
            savedData.route = "emotion";
            savedData.cleared_emotion = true;
            savedData.items = ["ç¾å’²ã®ã‚¹ãƒãƒ›(éºå“)", "ãƒãƒ³ãƒ‰ã‚¯ãƒªãƒ¼ãƒ "];
            localStorage.setItem("yojitsu_save", JSON.stringify(savedData));
            window.location.href = "climax.html";
            return;
        }

        const scene = scenes[sceneId];
        
        // --- 1. ç”»åƒãƒ»éŸ³å£°åˆ¶å¾¡ ---
        if(scene) {
            visuals.setBg(scene.bg);
            visuals.setCg(scene.cg);
            
            // ãƒ˜ãƒƒãƒ€ãƒ¼ã«ã‚‚èƒŒæ™¯ç”»åƒã‚’è¨­å®š
            if(scene.bg) {
                dom.header.style.backgroundImage = `url('images/${scene.bg}.jpg')`;
            }
            
            if(scene.effect) {
                if(scene.effect.blue) visuals.setFilter("blue");
                else if(scene.effect.gold) visuals.setFilter("gold");
                else visuals.setFilter("normal");
                
                if(scene.effect.tears) dom.tears.classList.add("active");
                else dom.tears.classList.remove("active");
            } else {
                visuals.setFilter("normal");
                dom.tears.classList.remove("active");
            }

            if(scene.music === "stop") audio.stopBgm();
            else if(scene.music) audio.playBgm(scene.music);

            if(scene.sound) audio.playSe(scene.sound);
        }

        // --- 2. ãƒ†ã‚­ã‚¹ãƒˆæç”» ---
        dom.text.innerHTML = scene.text;
        
        dom.text.animate([{opacity:0}, {opacity:1}], {duration: 1500, fill:"forwards"});

        // --- 3. é¸æŠè‚¢æç”» ---
        dom.choices.innerHTML = "";
        scene.choices.forEach(c => {
            const btn = document.createElement("button");
            btn.innerText = c.text;
            btn.onclick = () => render(c.next);
            dom.choices.appendChild(btn);
        });
    }

    render("start");

</script>
</body>
</html>